{"version":3,"sources":["../js/movie-carousel.js"],"names":["$","owlCarousel","loop","nav","dots","responsive","items","blockMoviesWrapper","document","getElementById","innerHtml","kinopoiskapiunofficial1Request","url","fetch","headers","cors","topFilms1Request","kinopoiskapiunofficialRequest","film1DetailsRequest","id","renderFilmBlock","posterUrl","filmName","wrapper1","createElement","classList","add","imagesWrapper1","images1","src","alt","append","images","title1","textContent","desc1","descWrapper","link","fetchBlockFilms1","result1","films1","json","request1","filmBlockMap1","Map","forEach","film","filmBlock1","posterUrlPreview","nameRu","filmId","set","filmBlock","push","Promise","resolve","reject","detailResult1","filmDetailsRequest","detailsData1","description1","data","delete","all","element1","values","slice","innerHTML","fetchBlockFilms"],"mappings":"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","sourcesContent":["$(\".owl-carousel\").owlCarousel({\r\n    loop: true,\r\n    nav: true,\r\n    dots: false,\r\n    responsive:{\r\n        0:{\r\n            items:1\r\n        }\r\n      \r\n    }\r\n});\r\n\r\n\r\n\r\nconst blockMoviesWrapper = document.getElementById('block03__movie-carousel');\r\nblockMoviesWrapper.innerHtml = '';\r\n\r\nconst kinopoiskapiunofficial1Request = (url) => {\r\n    return fetch(url, {\r\n        headers: {\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '18977bf3-8146-4afe-9205-6dabd925546d'\r\n        },\r\n\r\n        cors: 'no-cors'\r\n    });\r\n}\r\n\r\nconst topFilms1Request = () => {\r\n    return kinopoiskapiunofficialRequest('https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1')\r\n}\r\nconst film1DetailsRequest = (id) => {\r\n    return kinopoiskapiunofficial1Request(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${id}`)\r\n}\r\n\r\nfunction renderFilmBlock(posterUrl, filmName, id) {\r\n    const wrapper1 = document.createElement('div');\r\n    wrapper1.classList.add('block03__row1');\r\n\r\n   \r\n\r\n    const imagesWrapper1 = document.createElement('div');\r\n    imagesWrapper1.classList.add('block03_second-img');\r\n    const images1 = document.createElement('img');\r\n    images1.src = posterUrl;\r\n    images1.alt = 'Изображение постера';\r\n    imagesWrapper1.append(images);\r\n\r\n   \r\n\r\n\r\n    const title1 = document.createElement('div');\r\n    title1.classList.add('block03_second-text1');\r\n    title1.textContent = filmName;\r\n\r\n    const desc1 = document.createElement('div')\r\n    desc1.classList.add('block03_second-text2');\r\n   \r\n\r\n    descWrapper.append(title1, desc1);\r\n    link.append(imagesWrapper1);\r\n    wrapper1.append(link);\r\n\r\n\r\n    return [wrapper1, desc1];\r\n\r\n\r\n}\r\n\r\nconst fetchBlockFilms1 = async () => {\r\n    const result1 = await topFilms1Request();\r\n    const {\r\n        films1\r\n    } = await result1.json();\r\n\r\n    const request1 = [];\r\n    const filmBlockMap1 = new Map();\r\n\r\n    films1.forEach((film) => {\r\n        const [filmBlock1, desc1] = renderFilmBlock(film.posterUrlPreview, film.nameRu, film.filmId);\r\n        filmBlockMap1.set(film.filmId, filmBlock);\r\n\r\n        request1.push(new Promise(async (resolve, reject) => {\r\n            const detailResult1 = await filmDetailsRequest(film.filmId);\r\n            const detailsData1 = await detailResult1.json();\r\n\r\n\r\n            const description1 = detailsData1.data.description1;\r\n\r\n            if (!description1) {\r\n                filmBlockMap1.delete(film.filmId)\r\n            } else {\r\n                desc1.textContent = description1;\r\n            }\r\n            resolve();\r\n        }));\r\n\r\n    })\r\n\r\n    await Promise.all(request1);\r\n\r\n    const element1 = [...filmBlockMap1.values()].slice(0, 6);\r\n    blockMoviesWrapper.innerHTML = '';\r\n    blockMoviesWrapper.append(...element1);\r\n\r\n}\r\n\r\nfetchBlockFilms();\r\n"],"file":"movie-carousel.js"}