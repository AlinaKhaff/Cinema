{"version":3,"sources":["../js/movie-carousel.js"],"names":["blockMoviesWrapper","document","getElementById","innerHtml","kinopoiskapiunofficial1Request","url","fetch","headers","cors","getSimilarFilms","id","kinopoiskapiunofficialRequest","renderBlockForCarousel","films","containerId","html","forEach","item","posterUrl","nameRu","$","fetchBlockFilms1","console","log","URLSearchParams","window","location","search","get","result1","j","json","items","length","slice","Math","min","owlCarousel","loop","nav","dots","responsive"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,MAAMA,kBAAkB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,CAA3B;AACAF,kBAAkB,CAACG,SAAnB,GAA+B,EAA/B;;AAEA,MAAMC,8BAA8B,GAAIC,GAAD,IAAS;AAC5C,SAAOC,KAAK,CAACD,GAAD,EAAM;AACdE,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,mBAAa;AAFR,KADK;AAMdC,IAAAA,IAAI,EAAE;AANQ,GAAN,CAAZ;AAQH,CATD;;AAWA,MAAMC,eAAe,GAAIC,EAAD,IAAQ;AAC5B,SAAOC,6BAA6B,CAAE,sDAAqDD,EAAG,WAA1D,CAApC;AACH,CAFD;;AAIA,MAAME,sBAAsB,GAAG,CAACC,KAAD,EAAQC,WAAR,KAAwB;AACnD,MAAIC,IAAI,GAAG,EAAX;AACAF,EAAAA,KAAK,CAACG,OAAN,CAAcC,IAAI,IAAI;AAClBF,IAAAA,IAAI,IAAK;AACjB;AACA,wBAAwBE,IAAI,CAACC,SAAU;AACvC;AACA,0CAA0CD,IAAI,CAACE,MAAO;AACtD,WALQ;AAMH,GAPD;AAQAC,EAAAA,CAAC,CAACN,WAAD,CAAD,CAAeC,IAAf,CAAoBA,IAApB;AACH,CAXD;;AAYA,MAAMM,gBAAgB,GAAG,YAAY;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,QAAMb,EAAE,GAAG,IAAIc,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,EAA4CC,GAA5C,CAAgD,IAAhD,CAAX;AAEA,QAAMC,OAAO,GAAG,MAAMpB,eAAe,CAACC,EAAD,CAArC;AACA,QAAMoB,CAAC,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAhB;;AACA,MAAGD,CAAC,CAACE,KAAF,CAAQC,MAAR,GAAiB,CAApB,EAAuB;AAEnBrB,IAAAA,sBAAsB,CAACkB,CAAC,CAACE,KAAF,CAAQE,KAAR,CAAc,CAAd,EAAiB,CAAjB,CAAD,EAAsB,0BAAtB,CAAtB;AACAtB,IAAAA,sBAAsB,CAACkB,CAAC,CAACE,KAAF,CAAQE,KAAR,CAAc,CAAd,EAAiBC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaN,CAAC,CAACE,KAAF,CAAQC,MAArB,CAAjB,CAAD,EAAiD,2BAAjD,CAAtB;AAEAb,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBiB,WAAnB,CAA+B;AAC3BC,MAAAA,IAAI,EAAE,IADqB;AAE3BC,MAAAA,GAAG,EAAE,IAFsB;AAG3BC,MAAAA,IAAI,EAAE,KAHqB;AAI3BC,MAAAA,UAAU,EAAC;AACP,aAAI;AACAT,UAAAA,KAAK,EAAC;AADN,SADG;AAIP,aAAI;AACAA,UAAAA,KAAK,EAAC;AADN;AAJG;AAJgB,KAA/B;AAeAZ,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWiB,WAAX,CAAuB;AACnBC,MAAAA,IAAI,EAAE,IADa;AAEnBC,MAAAA,GAAG,EAAE,IAFc;AAGnBC,MAAAA,IAAI,EAAE,KAHa;AAInBC,MAAAA,UAAU,EAAC;AACP,WAAE;AACET,UAAAA,KAAK,EAAC;AADR;AADK;AAJQ,KAAvB;AAWH,GA/BD,MA+BO;AACHZ,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAsBL,IAAtB,CAA2B,EAA3B;AAEH;AAGJ,CA3CD;;AA8CAM,gBAAgB","sourcesContent":["/*$(\".owl-carousel\").owlCarousel({\r\n    loop: true,\r\n    nav: true,\r\n    dots: false,\r\n    responsive:{\r\n        0:{\r\n            items:1\r\n        }\r\n      \r\n    }\r\n});\r\n*/\r\n\r\n\r\nconst blockMoviesWrapper = document.getElementById('block03__movie-carousel');\r\nblockMoviesWrapper.innerHtml = '';\r\n\r\nconst kinopoiskapiunofficial1Request = (url) => {\r\n    return fetch(url, {\r\n        headers: {\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '18977bf3-8146-4afe-9205-6dabd925546d'\r\n        },\r\n\r\n        cors: 'no-cors'\r\n    });\r\n}\r\n\r\nconst getSimilarFilms = (id) => {\r\n    return kinopoiskapiunofficialRequest(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${id}/similars`)\r\n}\r\n\r\nconst renderBlockForCarousel = (films, containerId) => {\r\n    let html = \"\";\r\n    films.forEach(item => {\r\n        html += `<div class=\"block03__row1\">\r\n        <div class=\"block03_second-img\">\r\n            <img src=\"${item.posterUrl}\" alt=\"\" />\r\n        </div>\r\n        <p class=\"block03_second-text1\">${item.nameRu}</p>\r\n    </div>`\r\n    });\r\n    $(containerId).html(html);\r\n}\r\nconst fetchBlockFilms1 = async () => {\r\n    console.log('films for carousel');\r\n    const id = new URLSearchParams(window.location.search).get('id');\r\n\r\n    const result1 = await getSimilarFilms(id);\r\n    const j = await result1.json();\r\n    if(j.items.length > 0) {\r\n       \r\n        renderBlockForCarousel(j.items.slice(0, 6), '#block03__movie-carousel');\r\n        renderBlockForCarousel(j.items.slice(6, Math.min(12, j.items.length)), '#block03__movie-carousel2');\r\n\r\n        $(\".owl-carousel\").owlCarousel({\r\n            loop: true,\r\n            nav: true,\r\n            dots: false,\r\n            responsive:{\r\n                500:{\r\n                    items:1\r\n                },\r\n                400:{\r\n                    items:2\r\n                }\r\n              \r\n            \r\n            }\r\n        });\r\n        $(\"#car2\").owlCarousel({\r\n            loop: true,\r\n            nav: true,\r\n            dots: false,\r\n            responsive:{\r\n                0:{\r\n                    items:1\r\n                }\r\n               \r\n            }\r\n        });\r\n    } else {\r\n        $('.block03_second' ).html('');\r\n       \r\n    }\r\n\r\n  \r\n}\r\n\r\n\r\nfetchBlockFilms1();\r\n"],"file":"movie-carousel.js"}